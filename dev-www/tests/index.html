<!DOCTYPE html>
<html>
<head>
	<title>Test</title>
</head>
<body>
	<div ng-app="ResourceTester">
		<div ng-controller="ResourceTesterController">
                    {{auth}}<br>
        {{refcodes}}

		</div>

	</div>

    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/angular-resource/angular-resource.js"></script>
    <script src="../bower_components/ng-jsonpath/dist/ng-jsonpath.js"></script>
    <!--script src="../bower_components/angular-translate/angular-translate.js"></script-->
    <!--script src="../bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.js"></script-->
    <script src="../modules/models/irfmodels.js"></script>
    <script src="../modules/models/v1/Auth.js"></script>

    <script src="../modules/models/v1/ReferenceCodeResource.js"></script>
    <script src="../modules/irfcommons/irfcommons.js"></script>
    <script src="../modules/irfcommons/irfsessionmanager.js"></script>
    <script src="../modules/irfcommons/storagemanager.js"></script>

<!--script src="../modules/logger/logger.js"></script-->
<!--script type="text/javascript" src="../modules/irfcommons/irftranslate.js"></script-->
<script type="text/javascript">
	var testApp = angular.module('ResourceTester', ['IRFModels','IRFCommons']);
	//testApp.config(function($httpProvider) {
    	//$httpProvider.interceptors.push('irfHttpInterceptor');
	//});
        
	testApp.controller('ResourceTesterController', function($scope,$http,Auth,irfStorageService){
        postObj = {
                username:'tempmmmfro',
                password:'password@123'

        };
		$scope.auth = Auth.getToken(postObj);
        $scope.auth.$promise.then(function(){
            irfStorageService.cacheRefCodes().then(function(){
                console.error(irfStorageService.getRefCodes('bank'));
            },function(reason){
                console.log(reason);
            });


        });




		

		
	});
</script>
</body>
</html>