import java.time.*

String[] strTenure = tenure.toString().split(" ");
int tenureVal = Integer.parseInt(strTenure[0]);
String tenureUnit = strTenure[1];
customer = customerRepository.findCustomer(customerId);
if(customer == null || customer.getDateOfBirth() == null) {
	feeCharge = "0".toBigDecimal();
} else {
	LocalDate birthdate = customer.getDateOfBirth();
	Period p = Period.between(birthdate, LocalDate.now());
	int age = p.getYears();
	List<String> feeRate1 = new ArrayList<String>();
		feeRate1.add("2.71");
	List<String> feeRate2 = new ArrayList<String>();
		feeRate2.add("2.15");
		feeRate2.add("2.20");
		feeRate2.add("2.25");
		feeRate2.add("2.30");
		feeRate2.add("2.34");
		feeRate2.add("2.37");
		feeRate2.add("2.40");
		feeRate2.add("2.43");
		feeRate2.add("2.45");
		feeRate2.add("2.46");
		feeRate2.add("2.47");
		feeRate2.add("2.47");
		feeRate2.add("2.47");
		feeRate2.add("2.49");
		feeRate2.add("2.53");
		feeRate2.add("2.60");
		feeRate2.add("2.70");
		feeRate2.add("2.81");
		feeRate2.add("2.95");
		feeRate2.add("3.11");
		feeRate2.add("3.29");
		feeRate2.add("3.51");
		feeRate2.add("3.77");
		feeRate2.add("4.03");
		feeRate2.add("4.27");
		feeRate2.add("4.54");
		feeRate2.add("4.88");
		feeRate2.add("5.28");
		feeRate2.add("5.76");
		feeRate2.add("6.30");
		feeRate2.add("6.91");
		feeRate2.add("7.58");
		feeRate2.add("8.33");
		feeRate2.add("9.14");
		feeRate2.add("10.01");
		feeRate2.add("10.96");
		feeRate2.add("11.97");
		feeRate2.add("13.05");
		feeRate2.add("14.20");
		feeRate2.add("15.32");
		feeRate2.add("16.41");
		feeRate2.add("17.76");
		feeRate2.add("19.39");
		feeRate2.add("21.28");
		feeRate2.add("23.43");
		feeRate2.add("25.85");
		feeRate2.add("28.53");
		feeRate2.add("30.98");
		feeRate2.add("33.26");
		feeRate2.add("37.33");
		feeRate2.add("41.84");
		feeRate2.add("0.00");
	List<String> feeRate3 = new ArrayList<String>();
		feeRate3.add("3.13");
		feeRate3.add("3.21");
		feeRate3.add("3.28");
		feeRate3.add("3.35");
		feeRate3.add("3.40");
		feeRate3.add("3.45");
		feeRate3.add("3.50");
		feeRate3.add("3.53");
		feeRate2.add("3.56");
		feeRate2.add("3.58");
		feeRate2.add("3.59");
		feeRate2.add("3.59");
		feeRate2.add("3.60");
		feeRate2.add("3.64");
		feeRate2.add("3.72");
		feeRate2.add("3.84");
		feeRate2.add("3.99");
		feeRate2.add("4.17");
		feeRate2.add("4.39");
		feeRate2.add("4.65");
		feeRate2.add("4.94");
		feeRate2.add("5.29");
		feeRate2.add("5.67");
		feeRate2.add("6.06");
		feeRate2.add("6.44");
		feeRate2.add("6.88");
		feeRate2.add("7.42");
		feeRate2.add("8.06");
		feeRate2.add("8.81");
		feeRate2.add("9.66");
		feeRate2.add("10.60");
		feeRate2.add("11.65");
		feeRate2.add("12.80");
		feeRate2.add("14.05");
		feeRate2.add("15.40");
		feeRate2.add("16.85");
		feeRate2.add("18.41");
		feeRate2.add("20.05");
		feeRate2.add("21.74");
		feeRate2.add("23.43");
		feeRate2.add("25.19");
		feeRate2.add("27.35");
		feeRate2.add("29.90");
		feeRate2.add("32.85");
		feeRate2.add("36.19");
		feeRate2.add("39.91");
		feeRate2.add("43.69");
		feeRate2.add("47.46");
		feeRate2.add("51.60");
		feeRate2.add("57.85");
		feeRate2.add("0.00");
		feeRate2.add("0.00");
	List<String> feeRate5 = new ArrayList<String>();
		feeRate5.add("5.19");
		feeRate5.add("5.32");
		feeRate5.add("5.43");
		feeRate5.add("5.53");
		feeRate5.add("5.62");
		feeRate5.add("5.70");
		feeRate5.add("5.76");
		feeRate5.add("5.81");
		feeRate5.add("5.84");
		feeRate5.add("5.86");
		feeRate5.add("5.88");
		feeRate5.add("5.91");
		feeRate5.add("5.97");
		feeRate5.add("6.08");
		feeRate5.add("6.26");
		feeRate5.add("6.50");
		feeRate5.add("6.80");
		feeRate5.add("7.15");
		feeRate5.add("7.57");
		feeRate5.add("8.05");
		feeRate5.add("8.60");
		feeRate5.add("9.21");
		feeRate5.add("9.86");
		feeRate5.add("10.55");
		feeRate5.add("11.28");
		feeRate5.add("12.15");
		feeRate5.add("13.19");
		feeRate5.add("14.39");
		feeRate5.add("15.77");
		feeRate5.add("17.31");
		feeRate5.add("19.03");
		feeRate5.add("20.91");
		feeRate5.add("22.96");
		feeRate5.add("25.18");
		feeRate5.add("27.57");
		feeRate5.add("30.12");
		feeRate5.add("32.79");
		feeRate5.add("35.56");
		feeRate5.add("38.46");
		feeRate5.add("41.54");
		feeRate5.add("44.93");
		feeRate5.add("48.98");
		feeRate5.add("53.68");
		feeRate5.add("59.01");
		feeRate5.add("64.76");
		feeRate5.add("70.88");
		feeRate5.add("77.54");
		feeRate5.add("84.91");
		feeRate5.add("0.00");
		feeRate5.add("0.00");
		feeRate5.add("0.00");
		feeRate5.add("0.00");
	for(int i=0; i<=51; i++){
		if(age == i+18 ) {
			if((tenureUnit.equals("WEEK") && tenureVal <= 52) || (tenureUnit.equals("MONTH") && tenureVal <= 12) || (tenureUnit.equals("YEAR") && tenureVal <= 1) || (tenureUnit.equals("QUARTER") && tenureVal <= 4))
				feeCharge = ((amount * new BigDecimal (feeRate1.get(0)))/1000).setScale(2, BigDecimal.ROUND_HALF_UP);
			else if((tenureUnit.equals("WEEK") && tenureVal <= 104) || (tenureUnit.equals("MONTH") && tenureVal <= 24) || (tenureUnit.equals("YEAR") && tenureVal <= 2) || (tenureUnit.equals("QUARTER") && tenureVal <= 8))
				feeCharge = ((amount * new BigDecimal (feeRate2.get(i)))/1000).setScale(2, BigDecimal.ROUND_HALF_UP);
			else if((tenureUnit.equals("WEEK") && tenureVal <= 156) || (tenureUnit.equals("MONTH") && tenureVal <= 36) || (tenureUnit.equals("YEAR") && tenureVal <= 3) || (tenureUnit.equals("QUARTER") && tenureVal <= 12))
				feeCharge = ((amount * new BigDecimal (feeRate3.get(i)))/1000).setScale(2, BigDecimal.ROUND_HALF_UP);
			else if((tenureUnit.equals("WEEK") && tenureVal <= 260) || (tenureUnit.equals("MONTH") && tenureVal <= 60) || (tenureUnit.equals("YEAR") && tenureVal <= 5) || (tenureUnit.equals("QUARTER") && tenureVal <= 20))
				feeCharge = ((amount * new BigDecimal (feeRate5.get(i)))/1000).setScale(2, BigDecimal.ROUND_HALF_UP);
		}
	}
}
